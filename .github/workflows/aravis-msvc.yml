
name: Test Opencv
on: push

jobs:
  test:
    runs-on: ubuntu-22.04
    name: Test the action
    steps:
    - uses: actions/checkout@v3
      with:
        fetch-depth: 0
        install-deps: false
    - name: add key
      run: |
        sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5
        sudo apt-get -y upgrade
        sudo apt-get -y install cmake gcc g++
        sudo apt-get  -y install libavcodec-dev libavformat-dev libswscale-dev   libgstreamer-plugins-base1.0-dev libgstreamer1.0-dev  \
        libgtk2.0-dev  libgtk-3-dev
    - uses: Dovyski/setup-opencv-action@v1.1
      with:
        opencv-version: 4.5.5
        install-deps : false
